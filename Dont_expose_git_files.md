
<div dir="rtl" align="right">
<h1 dir="rtl" align="right">
فایل‌های git  خود را در معرض دسترس عموم قرار ندهید <a href="https://en.internetwache.org/dont-publicly-expose-git-or-how-we-downloaded-your-websites-sourcecode-an-analysis-of-alexas-1m-28-07-2015/">[منبع]</a></h1>


انتشار عمومی فایل‌های git. می‌تواند به مهاجمان نه تنها کدمنبع وب‌اپلیکیشن، که بعضاً تنظیمات و پیکربندی آن شامل اطلاعات حساسی مثل توکن‌های API یا پسوردها را افشا کند که با در اختیارداشتن کدمنبع، مهاجم می‌تواند راحت‌تر آن را تحلیل و آسیب‌پذیری‌های بیشتری به‌دست بیاورد.
<h3>
دریافت کد منبع:
</h3>
برای دریافت کد منبع، اگر directory-listing فعال باشد (که بسیار اشتباه است!)، به راحتی با زدن دستورات زیر می‌توانیم ابتدا تمام فایل‌ها را دانلود کرده و سپس به کد منبع دسترسی پیدا کنیم.
<br>
</div>


```
wget —mirror -I .git TARGET.COM/.git/
git checkout — .
```

<div dir="rtl" align="right">

اما همان‌طور که گفته شد، فعال بودن directory-listing از بس کار اشتباهی است، بعید هم هست. لذا باید دنبال راه دیگری برای پیدا کردن نام فایل‌های دانلودی باشیم. در گیت، نام فایل‌ها معمولاً به‌صورت خروجی یک تابع hash است لذا حدس زدن این نام‌ها ممکن نیست و ایجاد همه‌ی نام‌ها هم کار زمان‌بری است. به این منظور مهاجم به دنبال حدس زدن این نام‌ها است. برای حدس زدن، به این نکته باید توجه شود که در گیت فایل‌های خاصی وجود دارند که هرکدام وظیفه‌ی مشخصی بر عهده دارند. لیستی از این فایل‌ها به‌صورت زیر است:
</div>


   * HEAD
   * objects/info/packs
   * description
   * config
   * COMMIT_EDITMSG
   * index
   * packed-refs
   * refs/heads/master
   * refs/remotes/origin/HEAD
   * refs/stash
   * logs/HEAD
   * logs/refs/heads/master
   * logs/refs/remotes/origin/HEAD
   * info/refs
   * info/exclude


<div dir="rtl" align="right">
به عنوان مثال، فایل 
/ref/heads/master
هش آخرین کامیت را به ما می‌دهد. حال می‌توانیم این فایل را دانلود کرده و با زدن بعضی دستورات git بر روی آن، هش درخت مرتبط و هش پدر این فایل را به‌دست آوریم. سپس با زدن دستور git cat-file می‌توانیم فایل‌ها یا دایرکتوری‌های درون این درخت را به‌دست بیاوریم و با تکرار این کار، تقریباً به تمام فایل‌های این وبسایت دسترسی پیدا کنیم.
جزئیات بیشتر از دستورات لازم برای این کار در منبعی که مشخص شده، آمده است.
همچنین ابزار خودکاری برای بررسی این آسیب‌پذیری در <a href="https://github.com/internetwache/GitTools">اینجا</a> وجود دارد.
برای رفع این آسیب‌پذیری، کافی است به سادگی دسترسی به فایل‌های گیت را از مهاجم بگیریم که این کار در سرور‌های مختلف به روش‌های مختلف اما ساده‌ای صورت می‌گیرد که در منبع نمونه‌هایی از آن آمده است.
</div>
